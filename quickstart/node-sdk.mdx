---
title: 'Node SDK Quickstart'
description: 'Build your first TinyCloud backend service in under 5 minutes'
icon: 'server'
---

Get TinyCloud running in a Node.js environment and store your first piece of data. By the end of this guide you will have a working script that authenticates with a private key, reads and writes to a space, and creates a delegation for another user.

## Prerequisites

Before you begin, make sure you have:

- **Node.js 18+** installed
- An **Ethereum private key** (32-byte hex string) for authenticated mode, or nothing at all for session-only mode

<Warning>
  Never hardcode private keys in your source code. Always use environment variables or a secrets manager.
</Warning>

## Installation

<CodeGroup>
```bash npm
npm install @tinycloudlabs/node-sdk
```

```bash yarn
yarn add @tinycloudlabs/node-sdk
```

```bash pnpm
pnpm add @tinycloudlabs/node-sdk
```

```bash bun
bun add @tinycloudlabs/node-sdk
```
</CodeGroup>

<Steps>

### Configure Environment

Set up your private key as an environment variable.

```bash .env
TINYCLOUD_PRIVATE_KEY=0x0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
```

<Tip>
  For development, you can generate a test private key using: `node -e "console.log('0x' + require('crypto').randomBytes(32).toString('hex'))"`
</Tip>

### Initialize TinyCloud

Create a TinyCloud instance with your configuration.

<Tabs>
  <Tab title="Quick">
    ```typescript
    import { TinyCloudNode } from '@tinycloudlabs/node-sdk';

    const tc = new TinyCloudNode({
      privateKey: process.env.TINYCLOUD_PRIVATE_KEY,
      host: 'https://node.tinycloud.xyz',
      prefix: 'myapp',
    });
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    import { TinyCloudNode } from '@tinycloudlabs/node-sdk';

    const tc = new TinyCloudNode({
      // Your Ethereum private key (from environment variable)
      privateKey: process.env.TINYCLOUD_PRIVATE_KEY,

      // The TinyCloud node to connect to
      host: 'https://node.tinycloud.xyz',

      // Optional: prefix for all your KV keys
      prefix: 'myapp',

      // Automatically create a space on first sign-in (default: true)
      autoCreateSpace: true,
    });
    ```
  </Tab>
</Tabs>

### Sign In

Authenticate with the TinyCloud network.

<Tabs>
  <Tab title="Quick">
    ```typescript
    await tc.signIn();
    console.log('Space:', tc.spaceId);
    console.log('DID:', tc.did); // did:pkh:eip155:1:0x...
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // signIn() authenticates using your private key:
    // 1. Derives your Ethereum address from the private key
    // 2. Signs a SIWE message to prove ownership
    // 3. Establishes an authenticated session with the TinyCloud node
    // 4. Creates a space for you if one does not exist
    await tc.signIn();

    // After sign-in, your space ID and DID are available
    console.log('Space:', tc.spaceId);

    // tc.did returns your PKH DID (user identity)
    console.log('DID:', tc.did); // did:pkh:eip155:1:0x...
    ```
  </Tab>
</Tabs>

### Store Data

Save data to your space using the key-value store via `tc.kv`.

<Tabs>
  <Tab title="Quick">
    ```typescript
    await tc.kv.put('config', {
      version: '1.0.0',
      lastUpdated: new Date().toISOString(),
    });
    console.log('Data saved!');
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // Store a JSON object under the key 'config'
    // Note: Node SDK uses tc.kv (not tc.storage like the Web SDK)
    await tc.kv.put('config', {
      version: '1.0.0',
      lastUpdated: new Date().toISOString(),
    });

    console.log('Data saved!');
    // Data is now stored in your space on TinyCloud
    ```
  </Tab>
</Tabs>

### Retrieve Data

Read the data back from storage.

<Tabs>
  <Tab title="Quick">
    ```typescript
    const config = await tc.kv.get('config');
    console.log('Retrieved:', config);
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // Retrieve the value stored under 'config'
    const config = await tc.kv.get('config');

    // Returns the original object: { version: '1.0.0', lastUpdated: '...' }
    console.log('Retrieved:', config);
    ```
  </Tab>
</Tabs>

### List and Delete

Browse keys and remove data you no longer need.

<Tabs>
  <Tab title="Quick">
    ```typescript
    const keys = await tc.kv.list('');
    console.log('All keys:', keys);

    await tc.kv.delete('config');
    console.log('Deleted config');
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // List all keys matching a prefix
    // Pass an empty string to list everything in the space
    const keys = await tc.kv.list('');
    console.log('All keys:', keys);

    // Remove a key and its value
    await tc.kv.delete('config');
    console.log('Deleted config');
    ```
  </Tab>
</Tabs>

</Steps>

## Complete Example

Here is the full working code:

```typescript index.ts
import { TinyCloudNode } from '@tinycloudlabs/node-sdk';

async function main() {
  // 1. Initialize
  const tc = new TinyCloudNode({
    privateKey: process.env.TINYCLOUD_PRIVATE_KEY,
    host: 'https://node.tinycloud.xyz',
    prefix: 'myapp',
  });

  // 2. Sign in
  await tc.signIn();
  console.log('Space:', tc.spaceId);
  console.log('DID:', tc.did);

  // 3. Store data
  await tc.kv.put('config', {
    version: '1.0.0',
    lastUpdated: new Date().toISOString(),
  });
  console.log('Data saved!');

  // 4. Retrieve data
  const config = await tc.kv.get('config');
  console.log('Retrieved:', config);

  // 5. List keys
  const keys = await tc.kv.list('');
  console.log('Keys:', keys);

  // 6. Clean up
  await tc.kv.delete('config');
  console.log('Deleted config');
}

main().catch(console.error);
```

Run with:

```bash
TINYCLOUD_PRIVATE_KEY=0x... npx ts-node index.ts
```

## Expected Output

When you run the code successfully, you should see:

```
Space: space:eip155:1:0x1234...abcd:myapp
DID: did:pkh:eip155:1:0x1234...abcd
Data saved!
Retrieved: { version: '1.0.0', lastUpdated: '2026-01-15T10:30:00.000Z' }
Keys: ['config']
Deleted config
```

## Session-Only Mode

You can create a TinyCloud instance without a private key. This is useful for clients that only need to receive delegations from other users, not own a space.

<Tabs>
  <Tab title="Quick">
    ```typescript
    const bob = new TinyCloudNode();

    console.log(bob.did);            // did:key:z6Mk... (session key DID)
    console.log(bob.isSessionOnly);  // true
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // No config required -- a session key is generated automatically
    const bob = new TinyCloudNode();

    // In session-only mode, .did returns a session key DID
    // (not a PKH DID, since there is no Ethereum address)
    console.log(bob.did);            // did:key:z6Mk...
    console.log(bob.isSessionOnly);  // true

    // Session-only clients cannot create spaces or write
    // to their own storage, but they CAN receive delegations
    // from other users and access delegated data
    ```
  </Tab>
</Tabs>

<Note>
  Session-only clients generate an ephemeral `did:key` identity. They can receive delegations and read/write to other users' spaces, but they do not have their own space.
</Note>

## Delegations

Grant another user or service scoped access to your space.

<Warning>
  **Critical**: When creating delegations, always use the recipient's PKH DID (`pkhDid`), not their session key DID (`did`). Using the session DID will fail server validation. See the [Delegations guide](/guides/delegations) for full details.
</Warning>

<Tabs>
  <Tab title="Quick">
    ```typescript
    // Alice creates a delegation for Bob
    const delegation = await alice.createDelegation({
      delegateDID: bob.pkhDid,
      path: 'shared/',
      actions: ['tinycloud.kv/get', 'tinycloud.kv/put'],
    });

    // Bob uses the delegation to access Alice's data
    const access = await bob.useDelegation(delegation);
    const data = await access.kv.get('shared/data');
    ```
  </Tab>
  <Tab title="Explained">
    ```typescript
    // Alice grants Bob access to her 'shared/' prefix
    const delegation = await alice.createDelegation({
      // Bob's PKH DID -- the user identity format
      // CORRECT: bob.pkhDid -> did:pkh:eip155:1:0x...
      // WRONG:   bob.did    -> did:key:z6Mk... (will fail)
      delegateDID: bob.pkhDid,

      // Path prefix the delegation covers
      path: 'shared/',

      // Specific actions Bob is allowed to perform
      actions: ['tinycloud.kv/get', 'tinycloud.kv/put'],
    });

    // Bob loads the delegation and gets a scoped client
    const access = await bob.useDelegation(delegation);

    // Bob can now read and write under Alice's 'shared/' prefix
    const data = await access.kv.get('shared/data');
    await access.kv.put('shared/response', { message: 'Thanks!' });
    ```
  </Tab>
</Tabs>

### DID Reference

After sign-in, the Node SDK exposes two DID formats:

| Property | Format | Example | When to Use |
|----------|--------|---------|-------------|
| `tc.did` | PKH DID (after signIn) | `did:pkh:eip155:1:0x1234...` | Delegations, user identity |
| `tc.sessionDid` | Key DID | `did:key:z6Mk...#z6Mk...` | Internal session references |

In session-only mode (no private key), `tc.did` returns the session key DID since there is no Ethereum address to derive a PKH DID from.

## Session Persistence

By default, sessions are stored in memory and lost when your process exits. For long-running services, use file-based session storage.

<Tabs>
  <Tab title="Memory (Default)">
    ```typescript
    import { TinyCloudNode, MemorySessionStorage } from '@tinycloudlabs/node-sdk';

    const tc = new TinyCloudNode({
      privateKey: process.env.TINYCLOUD_PRIVATE_KEY,
      host: 'https://node.tinycloud.xyz',
      // Explicit but not required -- memory storage is the default
      sessionStorage: new MemorySessionStorage(),
    });
    ```
  </Tab>
  <Tab title="File Storage">
    ```typescript
    import { TinyCloudNode, FileSessionStorage } from '@tinycloudlabs/node-sdk';

    const tc = new TinyCloudNode({
      privateKey: process.env.TINYCLOUD_PRIVATE_KEY,
      host: 'https://node.tinycloud.xyz',
      // Persists the session to disk so it survives process restarts
      sessionStorage: new FileSessionStorage('./.tinycloud-session'),
    });
    ```
  </Tab>
</Tabs>

<Note>
  File-based storage is recommended for production services to avoid re-authentication on every restart. Add the session file to your `.gitignore`.
</Note>

## Configuration Reference

All options passed to `new TinyCloudNode()` are optional. Omitting everything creates a session-only client.

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `privateKey` | `string` | `undefined` | Ethereum private key (hex). Omit for session-only mode |
| `host` | `string` | `'https://node.tinycloud.xyz'` | TinyCloud node URL |
| `prefix` | `string` | `undefined` | Prefix prepended to all KV keys |
| `autoCreateSpace` | `boolean` | `true` | Create a space automatically on first sign-in |
| `sessionStorage` | `SessionStorage` | `MemorySessionStorage` | Where to persist session state |

## Next Steps

Now that you have the basics working, explore these guides:

<CardGroup cols={2}>
  <Card title="KV Storage" icon="database" href="/guides/kv-storage">
    Advanced storage operations including prefixes, metadata, and data types.
  </Card>
  <Card title="Delegations" icon="share-nodes" href="/guides/delegations">
    Share data access with fine-grained, revocable permissions.
  </Card>
  <Card title="Spaces" icon="cube" href="/guides/spaces">
    Understand spaces, the ownership containers at the heart of TinyCloud.
  </Card>
  <Card title="Web SDK" icon="browser" href="/quickstart/web-sdk">
    Building a frontend? See the Web SDK quickstart for browser usage.
  </Card>
</CardGroup>
